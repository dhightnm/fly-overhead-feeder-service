# Server Configuration
PORT=3006
NODE_ENV=development
HOST=0.0.0.0

# Database (shared with main service)
# For Docker: postgresql://postgres:postgres@db:5432/fly_overhead
# For Remote: postgresql://postgres:postgres@192.168.58.15:5433/fly_overhead
POSTGRES_URL=postgresql://postgres:postgres@db:5432/fly_overhead
POSTGRES_POOL_MIN=2
POSTGRES_POOL_MAX=10

# Security
API_KEY_SECRET=change-this-to-a-random-secret-in-production
BCRYPT_ROUNDS=10

# Rate Limiting
# IMPORTANT: Data ingestion (/data endpoint) is UNLIMITED - feeders can submit as much data as needed
# Tier-based limits only apply to other API operations (stats, health, etc.)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=1000
# Tier-based rate limits for API operations (not data ingestion)
# Existing sk_live_ keys default to 'production' tier for backward compatibility
# Production: 100 req/15min, Standard: 200 req/15min, Premium: 500 req/15min
RATE_LIMIT_PRODUCTION=500   # Legacy config (not used for data ingestion)
RATE_LIMIT_STANDARD=1000     # Legacy config (not used for data ingestion)
RATE_LIMIT_PREMIUM=5000      # Legacy config (not used for data ingestion)

# Data Processing
BATCH_SIZE=50
BATCH_INTERVAL_MS=1000
MAX_DATA_AGE_SECONDS=300

# Main Service Integration (where to forward all feeder operations)
MAIN_SERVICE_URL=http://localhost:3005
MAIN_SERVICE_AIRCRAFT_ENDPOINT=/api/feeder/aircraft
MAIN_SERVICE_REGISTER_ENDPOINT=/api/feeder/register
MAIN_SERVICE_STATS_ENDPOINT=/api/feeder/stats
MAIN_SERVICE_LAST_SEEN_ENDPOINT=/api/feeder/last-seen
MAIN_SERVICE_AUTH_ENDPOINT=/api/feeder/me
# User authentication endpoints (for account linking during feeder registration)
MAIN_SERVICE_LOGIN_ENDPOINT=/api/auth/login
MAIN_SERVICE_GOOGLE_AUTH_ENDPOINT=/api/auth/google
MAIN_SERVICE_TIMEOUT_MS=5000

# Optional: Message Queue (for high-volume scenarios)
REDIS_URL=redis://redis:6379
USE_QUEUE=false

# Logging
LOG_LEVEL=info

# Setup Script (optional - fallback URL if local file not found)
SETUP_SCRIPT_GITHUB_URL=https://raw.githubusercontent.com/dhightnm/fly-overhead-feeder-service/main/setup-public-feeder.sh

# Setup Page URL (optional - used in HTML landing page)
# If not set, defaults to https://api.fly-overhead.com in production or http://HOST:PORT in development
SETUP_URL=https://api.fly-overhead.com

